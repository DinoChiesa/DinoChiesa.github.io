<!doctype html>
<html lang="en">
  <head>
    <title>Generic OIDC Login URL-builder Form</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/scripts/choices.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <!--
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/base.min.css"
/>
-->

    <script type="text/javascript">
      let html5AppId = "D8E7329D-7F0E-4E40-AF47-2BED473C8837";
    </script>

    <script type="text/javascript" src="js/oidc-login-page.js"></script>
  </head>
  <body>
    <!-- ======================================================= -->
    <div style="margin: 10px">
      <h3>Build link for OIDC Sign-in</h3>
      <form role="form">
        <div class="form-group">
          <label for="baseloginurl">Base URL:</label>
          <input
            type="text"
            class="form-control"
            id="baseloginurl"
            value="https://login.salesforce.com/services/oauth2/authorize"
            title="eg, https://login.salesforce.com/services/oauth2/authorize"
          />
        </div>
        <div class="form-group">
          <label for="clientid">Client ID:</label>
          <input
            type="text"
            class="form-control"
            id="clientid"
            value="e8b3b2174a8b8f3debf171f6b6bf"
          />
        </div>
        <div class="form-group">
          <label for="clientsecret">Client Secret:</label>
          <input
            type="text"
            class="form-control"
            id="clientsecret"
            value="590d5426191846c5ae5c373d04e28f84"
          />
        </div>
        <div class="form-group">
          <div>
            <label for="state">state</label>
            <button
              type="button"
              class="btn btn-outline-secondary btn-sm btn-reload"
              data-target="state"
              title="regenerate random"
            >
              <span class="oi oi-reload"></span>
            </button>
          </div>
          <input type="text" class="form-control" id="state" />
        </div>
        <div class="form-group">
          <div>
            <label for="nonce">nonce:</label>
            <button
              type="button"
              class="btn btn-outline-secondary btn-sm btn-reload"
              data-target="nonce"
              title="regenerate random"
            >
              <span class="oi oi-reload"></span>
            </button>
          </div>
          <input type="text" class="form-control" id="nonce" />
        </div>
        <div class="form-group">
          <label for="cburi">callback URI:</label>
          <input
            type="text"
            class="form-control"
            id="cburi"
            value="https://dinochiesa.github.io/openid-connect/sf-callback-handler.html"
          />
        </div>
        <div class="form-group">
          <label for="rtype">response type:</label>
          <select
            multiple
            name="rtype"
            id="rtype"
            class="multi-choice rtype"
            data-placeholder="response type"
            required
          >
            <option value=""></option>
            <option value="code">code</option>
            <option value="token">token</option>
            <option value="id_token">id_token</option>
            <option value="invalid_option">invalid_option</option>
          </select>
        </div>

        <div class="form-group">
          <label for="scope">scope:</label>
          <select
            name="scope"
            id="scope"
            multiple
            class="multi-choice scope"
            data-placeholder="scope"
            required
          >
            <option value=""></option>
            <option value="openid">openid</option>
            <option value="profile">profile</option>
            <option value="email">email</option>
            <option value="invalid_option">invalid_option</option>
          </select>
        </div>
        <div class="form-group">
          <div>
            <label for="code">code</label>
          </div>
          <input
            type="text"
            title="paste in the code here..."
            class="form-control"
            id="code"
          />
        </div>
        <div>
          <button type="submit" class="btn btn-default" style="display: none">
            Submit
          </button>
        </div>
      </form>

      <div id="output">
        <a href="" id="authzlink"></a>
        <div id="authzRedemption">
          <div id="preBox"></div>
          <button
            class="btn btn-outline-secondary btn-md"
            id="btn-copy"
            data-target="preBox"
            title="Copy the curl command to the clipboard"
          >
            Copy curl
          </button>
          <!--
        Â¿porque no?
        -->
          <button
            class="btn btn-outline-secondary btn-md"
            id="btn-redeem"
            title="invoke the code redemption from the browser"
          >
            Redeem
          </button>
          <button class="btn btn-outline-secondary btn-md" id="btn-reset">
            Reset
          </button>
        </div>
        <div id="token-decoded"></div>
      </div>
    </div>
  </body>
</html>
